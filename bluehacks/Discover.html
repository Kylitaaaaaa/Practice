<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="Google.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>Discover</title>
  </head>
  <body>

    <nav class="navbar navbar-expand-sm bg-white">
	  <ul class="navbar-nav ml-auto">
	    <li class="nav-item">
	      <a class="nav-link" href="Discover.html">Discover</a>
	    </li>
	    <li class="nav-item">
	      <a class="nav-link" href="DoTasks.html">Do Tasks</a>
	    </li>
	    <li class="nav-item">
	      <a class="nav-link" href="#">Logout</a>
	    </li>
	  </ul>

	</nav>

	<div class="centerDiv">
		<div class="row">
		  <div class="card" style="width: 20rem;">
			  <img class="card-img-top" src="/Users/Thea/Desktop/Practice/bluehacks/pics/aeta.jpeg" alt="Card image cap">
			  <div class="card-block">
			    <h4 class="card-title">Aeta</h4>
			    <p class="card-text">Desc here</p>
			  </div>
			  <ul class="list-group list-group-flush">

			    <button class="btn btn-lg btn-primary btn-block" onclick="setupModal(0)" data-toggle="modal" data-target="#myModal">Donate</button>  	
			  </ul>
			</div>
		  <div class="card" style="width: 20rem;">
			  <img class="card-img-top" src="/Users/Thea/Desktop/Practice/bluehacks/pics/alzheimers.jpg" alt="Card image cap">
			  <div class="card-block">
			    <h4 class="card-title">Alzheimer's</h4>
			    <p class="card-text">Sample Text here.</p>
			  </div>
			  <ul class="list-group list-group-flush">
			    <button class="btn btn-lg btn-primary btn-block" onclick="setupModal(1)" data-toggle="modal" data-target="#myModal">Donate</button>  	
			  </ul>
			</div>

			<div class="card" style="width: 20rem;">
			  <img class="card-img-top" src="/Users/Thea/Desktop/Practice/bluehacks/pics/blind.jpg" alt="Card image cap">
			  <div class="card-block">
			    <h4 class="card-title">Blind</h4>
			    <p class="card-text">Desc here</p>
			  </div>
			  <ul class="list-group list-group-flush">
			    <button class="btn btn-lg btn-primary btn-block"  onclick="setupModal(2)" data-toggle="modal" data-target="#myModal">Donate</button>  	
			  </ul>
			</div>
		  <div class="card" style="width: 20rem;">
			  <img class="card-img-top" src="/Users/Thea/Desktop/Practice/bluehacks/pics/deaf.jpg" alt="Card image cap">
			  <div class="card-block">
			    <h4 class="card-title">Deaf</h4>
			    <p class="card-text">Sample Text here.</p>
			  </div>
			  <ul class="list-group list-group-flush">
			    <button class="btn btn-lg btn-primary btn-block" onclick="setupModal(3)"  data-toggle="modal" data-target="#myModal">Donate</button>  	
			  </ul>
			</div>

			<div class="card" style="width: 20rem;">
			  <img class="card-img-top" src="/Users/Thea/Desktop/Practice/bluehacks/pics/mangyan.jpg" alt="Card image cap">
			  <div class="card-block">
			    <h4 class="card-title">Mangyan</h4>
			    <p class="card-text">Desc here</p>
			  </div>
			  <ul class="list-group list-group-flush">
			    <button class="btn btn-lg btn-primary btn-block" onclick="setupModal(4)"  data-toggle="modal" data-target="#myModal">Donate</button>  	
			  </ul>
			</div>
		  <div class="card" style="width: 20rem;">
			  <img class="card-img-top" src="/Users/Thea/Desktop/Practice/bluehacks/pics/tboli.jpg" alt="Card image cap">
			  <div class="card-block">
			    <h4 class="card-title">Tboli</h4>
			    <p class="card-text">Sample Text here.</p>
			  </div>
			  <ul class="list-group list-group-flush">
			    <button class="btn btn-lg btn-primary btn-block" onclick="setupModal(5)"  data-toggle="modal" data-target="#myModal">Donate</button>  	
			  </ul>
			</div>
	</div>


	  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title" id="titleModal">Aeta</h4>
        </div>
        <div class="modal-body">
            <label for="inputdefault">How much will you donate?</label>
      		<input class="form-control" id="inputdefault" type="number">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" onclick="donate()" data-dismiss="modal">Okay</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        </div>
      </div>
      
    </div>
  </div>

  <script type="text/javascript">
	window.onload = function () {
	    var peopleList = [];
    	peopleList.push({ 	'id'	: 	0, 
    						'name'	: 	"Aeta", 
    						'desc'	: 	"Aeta Desc", 
    						'currFunds'	: 	0.00 });

    	peopleList.push({ 	'id'	: 	1, 
    						'name'	: 	"Alzheimer's", 
    						'desc'	: 	"Alzheimer Desc", 
    						'currFunds'	: 	0.00 });

    	peopleList.push({ 	'id'	: 	2, 
    						'name'	: 	"Blind", 
    						'desc'	: 	"Blind Desc", 
    						'currFunds'	: 	0.00 });

    	peopleList.push({ 	'id'	: 	3, 
    						'name'	: 	"Deaf", 
    						'desc'	: 	"Deaf Desc", 
    						'currFunds'	: 	0.00 });

    	peopleList.push({ 	'id'	: 	4, 
    						'name'	: 	"Mangyan", 
    						'desc'	: 	"Mangyan Desc", 
    						'currFunds'	: 	0.00 });

    	peopleList.push({ 	'id'	: 	5, 
    						'name'	: 	"Tboli", 
    						'desc'	: 	"Tboli Desc", 
    						'currFunds'	: 	0.00 });

    	localStorage.setItem("peopleList", JSON.stringify(peopleList));
    	console.log(localStorage.peopleList);

    	var temp = JSON.parse(localStorage.getItem("peopleList"));
    	console.log(temp);

    	console.log(temp[0]);
	}

	function donate(){
		var id = localStorage.currPeople;

		var donation = document.getElementById('inputdefault').value;
		var tempList = JSON.parse(localStorage.getItem("peopleList"));
		console.log(tempList);
		var temp = tempList[id];
		console.log(temp.currFunds);
		temp.currFunds = +temp.currFunds + +donation;
		localStorage.setItem("peopleList", JSON.stringify(tempList));

		console.log(tempList);
		console.log("done");
	}	

	function setupModal(id){	

		localStorage.setItem("currPeople", id);

		var tempList = JSON.parse(localStorage.getItem("peopleList"));
		temp = tempList[id];
		console.log("TANGINA");
		console.log(temp);

		console.log("asdf");
		console.log(temp.name);

		document.getElementById('titleModal').value(temp.name);


	}
  </script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
  </body>
</html>